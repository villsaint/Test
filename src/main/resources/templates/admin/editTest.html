<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <title>Index</title>
</head>

<body>
    <header>
        <div class="container-fluid bg-dark">
            <nav class="navbar navbar-expand-lg navbar-light bg-dark">
                <a class="navbar-brand text-white" href="#"><h5><span sec:authentication="name"></span></h5></a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
                        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item active text-white-50">

                            <h5>with roles:
                                <span sec:authorize="hasAnyRole('ROLE_ADMIN')">
                                   ADMIN
                                </span>
                                <span sec:authorize="hasAnyRole('ROLE_USER')">
                                    USER
                                </span>
                            </h5>
                        </li>
                    </ul>
                    <a class="nav-link text-white-50" href="http://localhost:8080/logout">Logout</a>
                </div>
            </nav>
        </div>
    </header>
    </br>
    <div class="row" style="background-color: white">
        <!--    Левая панель-->
        <div class="col-2">
            <div class="list-group" id="list-tab" role="tablist">
                <a class="list-group-item list-group-item-action" id="list-home-list" data-toggle="list"
                   href="/admin" role="tab" sec:authorize="hasRole('ROLE_ADMIN')" aria-controls="home">Admin</a>
                <a class="list-group-item list-group-item-action" id="list-profile-list" data-toggle="list"
                   href="/user" sec:authorize="hasRole('ROLE_USER')" role="tab" aria-controls="profile">User</a>
            </div>
        </div>

        <!--    Правая авнель-->
        <div class="col-lg-10" style="background-color: white">
            <div class="row" >
                <h1>Admin panel</h1>
            </div>
            <nav class="navbar navbar-expand-lg navbar-light bg-light">
                <a class="navbar-brand" href="http://localhost:8080/admin">Users Table</a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
                        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <a class="navbar-brand" href="http://localhost:8080/admin/new">New User</a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
                        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
            </nav>
    <!--        Содержимое-->

            <form th:method="POST" th:action="@{/admin/edit/{id}(id=${userE.getId()})}" th:object="${userE}">
                <label for="name">New name: </label>
                <input type="text" th:field="*{name}" th id="name"/>
                <div style="color:red" th:if="${#fields.hasErrors('name')}" th:errors="*{name}">Name Error</div>
                <br/>
                <label for="lastName">Enter lastName: </label>
                <input type="text" th:field="*{lastName}" id="lastName"/>
                <div style="color:red" th:if="${#fields.hasErrors('lastName')}" th:errors="*{lastName}">Last name Error</div>
                <br/>
                <label for="age">New age: </label>
                <input type="text" th:field="*{age}" id="age"/>
                <div style="color:red" th:if="${#fields.hasErrors('age')}" th:errors="*{age}">Age Error</div>
                <br/>
                <label for="email">New email: </label>
                <input type="text" th:field="*{email}" id="email"/>
                <div style="color:red" th:if="${#fields.hasErrors('email')}" th:errors="*{email}">Email Error</div>
                <br/>
                <label for="username">New username: </label>
                <input type="text" th:field="*{username}" id="username"/>
                <div style="color:red" th:if="${#fields.hasErrors('username')}" th:errors="*{username}">Username Error</div>
                <br/>
                <label for="password">New password: </label>
                <input type="text" th:field="*{password}" id="password"/>
                <div style="color:red" th:if="${#fields.hasErrors('password')}" th:errors="*{password}">Password Error</div>
                <br/>
                <input type=checkbox id=adminId name=role value="ROLE_ADMIN">
                <label for="adminId">Admin</label>
                <br/>
                <input type=checkbox id=userId name=role value="ROLE_USER">
                <label for="userId">User</label>
                <br/>
                <input type="submit" value="Update!"/>
            </form>
        </div>
    </div>


    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
            integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
            crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
            integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
            crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
            integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
            crossorigin="anonymous"></script>
</body>
</html>